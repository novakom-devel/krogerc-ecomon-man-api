# Загальні положення протоколу REST
Визначено, що всі запити будуть відправлятися через HTTP–протокол. Сервер повинен обслуговувати запити на http:// схемі, порт — 80. 
За бажанням можливо і реалізація https:// схеми із портом 443, або іншим номером порту. `donor` має право розміщувати ідентифікатори в межах свого WEB-ресурсу, для цього обов’язково необіхдно визначити базове посилання від якого будуть запитуватися ідентифікатори. Тобто можливо як окремий сервіс, наприклад `http://example.com/` так і в межах свого корпоративного сайту `http://www.examples.com/foreign/ecomon/api/`.
В заголовках для `Content-Type` обов’язково вказувати значення "application/json".

Базовим форматом передачі та отримання даних буде JSON. Для передачі даних POST-методом буде завжди використано RAW-формат передачі, який містить JSON-дані.

Ідентифікатори ресурсу повинні передбачати обов’язкові вхідні та вихідні дані. Є обов’язкові поля для більшості ідентифікаторів, як наприклад **`token`**, який бажано використовувати для ідентифікації `collector'a`.

## Обов’язкові ідентифіктори русерсу
Наступний перелік ресурсів повиннен бути обов’язково реалізований. Під ресурсом в даному випадку WEB-посилання.
* **/ping** — Перевірка активності сервера.
* **/paninfo** — Інформація по опису постів спостереження.
* **/data-hour** — Інформація по щогодинним показникам поста спостереження.
* **/data-day** — Інформація по середньодобовим показникам поста спостереження.

## Необов’язкові ідентифікатори ресурсів
* **/data-hour-meteo** — Теж саме, що і **/data-hour**, тільки поля, що відповідають за метео-інформації
* **/data-hour-gas** — Теж саме, що і **/data-hour**, тільки поля, що відповідають за забруднюючі речовини
* **/data-day-meteo** — Теж саме, що і **/data-day**, тільки поля, що відповідають за метео-інформації
* **/data-day-gas** — Теж саме, що і **/data-day**, тільки поля, що відповідають за забруднюючі речовини

## Вимоги до формату вихідних даних
Усі данні, що повертають ідентифікатори, повинні бути у вигляді хешу за наступною структурою:
```JSON
{
  "success": <bool>,
  "code" : <int>,
  "status" : "success",
  "result" : <mixed>
}
```

**`success`** — загальний результат відповіді. Має булевий тип, значення тільки `true` та `false`

**`code`** — Код відповіді в нотації HTTP-протоколу. Для прикладу `200` — усе добре, `403` — доступ заборонено, `400` — Хибні параметри запиту.

**`result`** — Данні, що повертає ідентифікатор. Можуть бути будь-якого типу, залежить від ідентифікатору.

> ЦЕ ВАЖЛИВО!<br/>
> `collector` буде оброблювати дані лише, якщо `success==true` та `code==200`

У випадках, коли ідентифікатор повертає помилку та має пояснення, то необхідно повертати відповідь формату:
```JSON
{
  "success": false,
  "code": 200,
  "status" : "failure",
  "error" : {
    "num": <num>,
    "description": "<description>"
  }
}
```
`<num>` — внутрішній номер помилки, `<description>` — опис помилки.
