# Ідентифіктор /data-hour 
Повертає інформацію по щогодинним показникам поста спостереження.

## Вхідні параметри
Поле | Обов'язкове | Тип даних | Описую
:----|:-----------:|:-----------|:------
**token** | √ | string | Секретний токен від [collector](/99_Глосарій#collector)
**pan_num** | √ | int | Номер поста спостереженнях в межах підприємства. Номер поста визначений в ідентифікаторі [`/paninfo`](/03_REST_протокол/10_paninfo)
**dt_from**| √ | string | Дата та час починаючи з якого необхідно видавати дані у форматі [ISO8601](/99_Глосарій#iso8601).
**dt_to**|  | string | Дата та час до котрого віддавати дані у форматі [ISO8601](/99_Глосарій#iso8601). Якщо поле відсутнє, то часовий проміжок даних вказується по поточний час.

## Вихідні дані
Результат повинен бути списком із елементів хешу, що містить інформацію про дані поста спостереження в межах щогодиних показників. Опис хешу:
Поле | Обов'язкове | Тип даних | Описую
:----|:-----------:|:-----------|:------
**id** | √ | int | Унікальний номер запису даних в межах поста спостереження або в межау усього набору значень усіх постів відносно набору щогодинних показників.
**dt** | √ | int | Дата та час запису даних, коли були зібрані дані від посту спостереження.
**gas_co** |  | float | Значення показника оксиду вуглицю (мг/м3). Необхідно передавати, якщо пост обладнаний відповідним датчиком.
**gas_no** |  | float | Значення показника оксиду азоту (мг/м3). Необхідно передавати, якщо пост обладнаний відповідним датчиком.
**gas_no2** |  | float | Значення показника діоксиду азота (мг/м3). Необхідно передавати, якщо пост обладнаний відповідним датчиком.
**gas_so2** |  | float | Значення показника сірчаного ангідриду (мг/м3). Необхідно передавати, якщо пост обладнаний відповідним датчиком.
**gas_nh3** |  | float | Значення показника аміаку (мг/м3). Необхідно передавати, якщо пост обладнаний відповідним датчиком.
**gas_h2s** |  | float | Значення показника сірководню (мг/м3). Необхідно передавати, якщо пост обладнаний відповідним датчиком.
**gas_c2h6** |  | float | Значення показника етану (мг/м3). Необхідно передавати, якщо пост обладнаний відповідним датчиком.
**gas_ozon** |  | float | Значення показника озону (мг/м3). Необхідно передавати, якщо пост обладнаний відповідним датчиком.
**dust** |  | float | Значення показника пилу (мг/м3). Необхідно передавати, якщо пост обладнаний відповідним датчиком.
**wind_dir** |  | float | Значення в градусах напрямку вітру.
**wind_speed** |  | float | Значення в метрах на секунду середньої швидкості вітру.
**air_temp** |  | float | Значення температури в градусах Цельсія.
**rel_air_press** |  | float | Відносний тиск в міліметрах ртутного стовбчика.
**rel_hum** |  | float | Значення відносної вологості у відсотках.
**rainfall** |  | float | Кількість опадів у міліметрах.

Усі метеопоказники можуть бути відсутні за умови, що пост спостереження не обладнаний відповідними датчиками. Тобто поле `have_meteo` ідентифікатору `paninfo` буде `false`. Існують випадки, коли данні відстуні з об'єктивних прични, наприклад пост спостереження перебуває на повірці, частина датчиків перебувають на повірці або технічний збій через який не можливо отримати дані. Для таких випадків необхідно повертати `null`–значення для кожного із параметрів. 

## Приклад #1
Представимо, що вибираємо список даних починаюси з вказаної дати.

### Дані, що відправляють (#1)
```JSON
  { 
    "toke": "xxxxxxxxxxxxxxxxxxxx",
    "pan_num": "1",
    "dt_from": "2018-01-01T00:00:00+02:00"
  }
```

### Дані, що отримують (#1)
```JSON
  {
    "success" : true,
    "code" : 200,
    "status" : "success",
    "result": [
      {
        "id": 10001, 
        "dt": "2018-01-01T00:56:54+02:00", 
        "gas_co": 1.404350,
        "gas_no": 0.439316,
        "gas_no2": 0.058164,
        "gas_so2": 0.030150,
        "gas_nh3": 0.005209,
        "gas_h2s": 0.000100,
        "wind_dir" : 80,
        "wind_speed" : 2.977099,
        "air_temp": 2.532459,
        "rel_air_press" : 739.908996,
        "rel_hum" : 73.731697,
        "rainfall" : 0,
      },
      ...
    ]
  }
```
## Приклад #2
Припустимо, що формуємо запит, який не містить даних.

### Дані, що відправляють (#2)
```JSON
  { 
    "toke": "xxxxxxxxxxxxxxxxxxxx",
    "pan_num": "99",
    "dt_from": "2028-01-01T00:00:00+02:00"
  }
```

### Дані, що отримують (#2)
```JSON
  {
    "success" : true,
    "code" : 200,
    "status" : "success",
    "result": []
  }
```


### Варіація запиту через консоль
Припустимо, що виконуємо запит даних протягом однієї години, починаючи з 2018.01.01 00:00.
Запит:
```BASH
curl -H "Content-Type: application/json" -X POST --data '{"token": "xxxxxxxxxxxxxxxxxxxx", "pan_num": 1, "dt_from": "2018-01-01T00:00:00+02:00", "dt_to": "2018-01-01T02:10:00+02:00" }' "http://example.com/data-hour"
```
відповідь:
```JSON
{
  "success" : true,
  "code" : 200,
  "status" : "success",
  "result": [
    {
      "id": 10001, 
      "dt": "2018-01-01T00:56:54+02:00", 
      "gas_co": 1.404350,
      "gas_no": 0.439316,
      "gas_no2": 0.058164,
      "gas_so2": 0.030150,
      "gas_nh3": 0.005209,
      "gas_h2s": 0.000100,
      "wind_dir" : 80,
      "wind_speed" : 2.977099,
      "air_temp": 2.532459,
      "rel_air_press" : 739.908996,
      "rel_hum" : 73.731697,
      "rainfall" : 0,
    },
    {
      "id": 10002, 
      "dt": "2018-01-01T01:58:02+02:00", 
      "gas_co": 1.402350,
      "gas_no": 0.4193796,
      "gas_no2": 0.038764,
      "gas_so2": 0.050550,
      "gas_nh3": 0.004209,
      "gas_h2s": 0.000101,
      "wind_dir" : 96,
      "wind_speed" : 4.113299,
      "air_temp": 2.734612,
      "rel_air_press" : 740.103926,
      "rel_hum" : 73.731697,
      "rainfall" : 0.02,
    }
  ]
}
```
